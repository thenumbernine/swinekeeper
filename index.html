<!doctype html>
<html>
	<head>
		<meta charset='utf8'/>
		<title>SwineKeeper</title>
		<script type='module' src='main.js' defer></script>
		<link rel='stylesheet' href='style.css'/>
	</head>
	<body>

	<a href="https://buy.stripe.com/00gbJZ0OdcNs9zi288"><img src="https://img.shields.io/badge/Donate-Stripe-green.svg" alt="Donate via Stripe"/></a><br>
	<a href="bitcoin:37fsp7qQKU8XoHZGRQvVzQVP8FrEJ73cSJ"><img src="https://img.shields.io/badge/Donate-Bitcoin-green.svg" alt="Donate via Bitcoin"/></a><br>

	<div id='neighborInfoDiv'>
	neighborhoods:<br>
	<div id='nbhddiv'>
	<textarea id='customNbhdStr'></textarea><br>
	symbol <input id='customNbhdSymbol'/><br>
	<button id='customNbhdAdd'>Add New Neighborhood</button><br>
	</div>
	</div>

	<input id='help' type='checkbox'/> Show Help<br>
	<div id='helpdiv'>
		HELP:<br>
		This is just like original minesweeper but with varying detection neighborhoods.<Br>
		<br>

		Click to reveal if a tile has a mine or not.<br>
		If it does then you lose.<br>
		If it does not then it will show you a number telling you how many mines are in its neighborhood.<br>
		<br>

		Right-click to place a flag over a mine.<br>
		Mobile users: long-press to place a flag.<br>
		Flagged tiles cannot be clicked (and accidentally detonated).<br>
		<br>

		Hover your mouse over a tile to show a tile's neighborhood of detection.<br>
		In original minesweeper, this neighborhood consisted of just the 3x3 tiles surrounding it.<br>
		in Swinekeeper, the detection neighborhoods vary per tile.<br>
		<br>

		In mobile mode, there is no mouse-over, so I provided the "two clicks to reveal..." option.<br>
		With this enabled, the first click on a tile will reveal its neighborhood, and the second click will reveal the tile.<br>
		<br>

		<hr>

		You can choose on the right column under 'neighborhoods' which possible neighborhoods to allow.<br>
		If you uncheck all of them except the '3x3' option then you will get original minesweeper.<br>
		<br>

		<hr>
		<br>

		Now when you open a tile, it will tell you first the number of mines next to it, and next the letter indicating what kind of neighborhood it is using to detect the mines.<br>
		The 'neighborhoods' legend in the upper-right will show you what each of the letters mean.<br>
		<br>
		
		<hr>
		<br>

		At the top of the neighborhood list is the custom neighborhood controls.<br> 
		In the textbox you can type the ascii art for a neighborhood, with 'o's for detected tiles and any other character for otherwise.<br> 
		Then type a symbol for the neighborhood in the symbol field and click 'Add New Neighborhood'.<br> 
		<br> 
		
		<hr>
		<br>

		If you check the 'show detection neighborhood' checkbox then you'll get some help:<br>
		<br>

		When you mouse-over a revealed tile, it will show you blue highlights over all the other tiles in its neighborhood which it detected, indicating that the unchecked neighbors are still potentially unsafe.<br>
		<br>

		If this matches the number of flags around it then the highlight will be green, indicating all other unflagged un-revealed tiles are safe to check (presuming your flagged mines are in the right place).<br>
		<br>

		If you have flagged too many tiles in a neighborhood then the highlight will be red, indicating you have a serious flaw in your deduction of where the mines belong.<br>
		<br>

		When you mouse-over a hidden tile, it will show you highlights over all the revealed tiles which have this tile in their neighborhoods.<br>
		You can then mouse over those revealed tiles and see if any have a complete set of mines flagged.<br>
		<br>

		<hr>
		<br>

		If you checked the 'tiles change color to give hints' then the numbers on revealed tiles will change appearance to offer you hints:<br>
		<br>

		A revealed tile will show its number blue if it has as many hidden neighbors as it has mines in its neighborhood, but they have not yet been flagged, hinting to you that the neighbors need to be flagged.<br>
		<br>

		It will be green if its number matches the number of flags in its neighborhood, and there are still more hidden tiles in its neighborhood, indicating those extra tiles need to be clicked.<br>
		<br>

		It will show bold black if all its neighborhood hidden tiles are flagged, hinting that this tile's usefulness is complete.<br>
		<br>

		It will show red if its number is less than the number of flags in its neighborhood, indicating that your flagging is incorrect.<br>
		<br>

		<hr>
		<br>

		If you check the 'QUANTUM GRAVITY MODE' checkbox then every single tile will have a completely random neighborhood.<br>
		You are going to want to play with 'show detection neighborhood' enabled.

		<hr>
		<br>

		Torus mode just means that the neighborhoods of the tiles wraps around the left/right and top/bottom of the board.<br>
		<Br>
	</div>

	<input id='width' type='text' value='30'/> width<br>
	<input id='height' type='text' value='20'/> height<br>
	<input id='percentMines' type='text' value='15'/> percent mines<br>
	<input id='cellsize' type='text' value='24'/> tile size (px)<br>
	<input id='propagationDelay' type='text' value='50'/> propagation delay (ms)<br>
	<input id='darkMode' type='checkbox'/>dark mode<br>
	<input id='showDetectionNbhd' type='checkbox' checked='checked'/> mouse hover to show detection neighborhood.<br>
	<input id='showTileHints' type='checkbox' checked='checked'/> tiles change color to give hints.<br>
	<input id='autoClick' type='checkbox'/> automatically flag and click tiles.<br>
	<input id='mobileMode' type='checkbox'/> mobile mode (click a revealed tile to shows its neighborhood).<br>
	<input id='showInvNbhds' type='checkbox'/> ... first click a hidden tile to show which neighbors touch it.<br>
	<input id='flagUnknown' type='checkbox'/> allow placing ? flags on tiles.<br>
	<input id='showcellnbhd' type='checkbox'/> show neighborhood symbol on revealed tiles.<br>
	<input id='qgmode' type='checkbox'/> QUANTUM GRAVITY MODE (neighborhoods are completely random per tile).<br>
	<input id='torus' type='checkbox'/> torus board (detection neighborhoods wrap around sides).<br>
	<br>

	<button id='newgame'>New Game</button><br>
	<div id='timeTakenWrapper'><span id='timeTaken'>...</span></div>
	<div id='percentUncoveredWrapper'><span id='percentUncovered'></span> Uncovered</div>
	<div id='minesLeftWrapper'>Mines Left: <span id='minesleft'></span></div>
	<br>

	<table id='board'></table>

	</body>
</html>
